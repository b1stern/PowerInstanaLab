{"pageContext":{"frontmatter":{"title":"Section 1 - Installing and Configuring Monitoring","description":"Install and configure monitoring for the AIX LPAR and OCP Cluster"},"relativePagePath":"/tutorials/Install/index.mdx","titleType":"page","MdxNode":{"id":"203a7747-bd1b-51ca-bc00-f74a3d37236d","children":[],"parent":"3c37b798-b420-565e-a0f9-76fefa30e5ea","internal":{"content":"---\ntitle: Section 1 - Installing and Configuring Monitoring\ndescription: Install and configure monitoring for the AIX LPAR and OCP Cluster \n---\n\n<AnchorLinks>\n  <AnchorLink>1-1: Login to the AIX LPAR</AnchorLink>\n  <AnchorLink>1-2: Preparing to Install the Instana Agent</AnchorLink>\n  <AnchorLink>1-3: Install the Instana Agnet on AIX</AnchorLink>\n  <AnchorLink>1-4: Install the Instana Agent to Monitor OpenShift</AnchorLink>\n  <AnchorLink>1-5: Summary</AnchorLink>\n</AnchorLinks>\n\n## 1-1: Login to the AIX LPAR\n\nIn this portion of the lab, you will be installing the Instana Monitoring Agent on the AIX LPAR that you used in previous labs.   This LPAR includes an instance of MariaDB.  We will installing the Agent and going through some additional configuration steps.\n\nBring up a terminal window and log into your AIX LPAR.  You will need to be root when installing the Instana Agent.\n\nRun the following command to switch to root:\n```sh\nsudo -i\n```\n\n***\n\n## 1-2:  Preparing to Install the Instana Agent\nOn some platforms, the Instana Host Agent comes pre-packaged with a Java SDK.  But, on AIX java is not include in the installation package.  So, the first step is to install java on the AIX LPAR.  Instana supports multiple vendor SDKs, but does require java 8 or 11.\n\nDownload a valid java version from https://ibm.box.com/shared/static/69j0oiqmnvyljahgfw49l7eu600c1v69.tar\n\nOnce java has been downloaded, use scp to copy the tar file to the AIX LPAR.\n```sh\nscp java8_AIX64.tar root@<IP address of AIX LPAR>:/tmp\n```\n\nNext, change directory to /opt\n```sh\ncd /opt\n```\n\nExtract the tar file:\n```sh\ntar -xf /tmp/java8_AIX64.tar\n```\n\nType \"ls -all\" and confirm that you see a java8 directory.\n\nNext, we must make sure that the java 8 JDK is in our PATH and that JAVA_HOME is set properly so that the Instana Agent uses the proper version of java.  There are multiple ways to achieve this.  For example, you can edit the Instana startup files or the setenv file.  For this lab, we are going to edit root's .profile\n\nAs the root user, type \"cd\" to change to root's home directory.\n\nNext, type \"vi .profile\":\n```sh\nvi .profile\n```\n\nWithin vi, add the following content to the .profile file.\n```sh\nexport JAVA_HOME=/opt/java8/jre\nexport PATH=$JAVA_HOME/bin:$PATH\n```\n\nType \":wq\" to save your changes and exit the vi session.\n```sh\n:wq\n```\n\nFinally, you must source the .profile file in order to set those environment variables in your current shell.  Type the following:\n```\n. ./.profile\n```\n\n***\n\n## 1-3:  Install the Instana Agent on AIX\nNext, we'll be installing the Instana Agent on the AIX LPAR.\n\nLeave the terminal window open.  We'll be using it later.\n\nFor now, login to the Instana user interface at:  https://instana-labs.instana.io/\nLogin as apmdemo-2@yahoo.com with the password provided by the lab instructor.\n\nSelect the \"Stan\" the robot icon in the upper left corner\n  ![](images/stan.png)\n\nNext, click the **\"Deploy Agent\"** button near the upper right corner.\n  ![](images/DeployAgent.png)\n\nA window will open with a list of different environments where you can install the Instana Agent.  In this section of the lab, we are installing the AIX Host Agent.  Select **Unix** from the list of OS's.\n\nNext select the dropdown list in the middle of the page.  Select \"**AIX (64bit - PowerPC)**\" and then click the **Download** button to download the Host Agent.\n  ![](images/AIXDyanmic.png)\n\nYou'll notice that there are multiple options for AIX.  In this environment, we are using a 64-bit version of AIX.  In addition, there is an option for a \"**static**\" Agent.  Static Agents are used when you are in an air-gapped environment or when there are strict change control processes.  The **dynamic** agents are recommended for most environments.  The sensors for the discovered technologies will automatically download as needed and the Agent and sensors will automatically update themselves as new fixes and enhancements become available.\n\nThe reason that you downloaded the Host Agent from the Instana user interface is that the media has specifically been configured so that the Agent will communicate and send data to your Instana server.  This includes the path to the Instana server as well as the Agent Key necessary to communicate with your backend server.\n\nNow that you have download the Agent tar file, you must copy it to the AIX LPAR.   Use **scp** to copy the image to the LPAR.\n\n```sh\nscp instana-agent-aix-ppc-64bit.tar.gz root@<IP address of AIX LPAR>:/tmp\n```\n \ncd to the /opt/ directory.\n```sh\ncd /opt\n```\n\nNow, extract the tar file by typing:\n```sh\ntar -xf /tmp/instana-agent-aix-ppc-64bit.tar.gz\n```\n\nNow, you must start the Agent.  In a production environment, you would also want to setup the /etc/rc.d autostart files, but we are going to skip that step for the lab. \n\nNow, let's start the Instana Agent.  Change directory to the /opt/instana-agent/bin directory\n```sh\ncd /opt/instana-agent/bin\n```\n\nRun the start command by typing:\n```sh\n./start\n```\n\nThis will start the Instana Agent.\n\nIn addition, there are some optional configuration steps.  We'll examine and change some of the optional configuration parameters.\n\nChange directory to /opt/instana-agent/etc/instana\n```sh\ncd /opt/instana-agent/etc/instana\n```\n\nThis is the primary directory where most configuration changes are made.   However, there are some configuration files in the parent directory.  For example, if you setup your own internal maven repository to host the sensors, that configuration would be specified in the /opt/instana-agent/etc/mvn-settings.xml file.\n\nUse **vi** to edit the configuration.yaml file.\n```sh\nvi configuration.yaml\n```\n\nThis is the main configuration file that contains mandatory and optional configuration parameters for the Host Agent and the application/middleware sensors.  We'll be modifying a few key settings so that you can understand some of the possibilities.\n\nOne important aspect of Instana's configuration.yaml file is that it is read from dynamically by the Agent.  As you save changes to the file, those changes are immediately detected and implemented by the Agent.  There is no need to recycle the Agent in order for the changes to take effect.  This is not true for all of the configuration files.  For example, if you customize the mvn-settings.xml file, you must restart the Agent for the changes to take effect.\n\nAs you scroll down through the file, you'll see a section titled **\"Secret manager integration\"**.  You'll notice that some of the sensors will require a password.  By specifying a secret manager such as Hashicorp, you can store the passwords in the vault instead of specifying them in an ASCII file.   We won't be using that for this lab.\n\nScroll down further until you see the **Host** section.   Within the **Host** section, you'll notice a few important options. To customize the parameters, you must uncomment the lines by removing the **#** symbol.  Also, keep in mind that this is a yaml file and formatting is very picky.   Lines must be indented by 2 spaces at a time.  Within the host section, you'll see that there is a section where you can specify **tags**.  Tags can be very useful in helping you manage large scale environments.   You'll also notice a parameter called **aixEventsPollRate**.  This parameter allows you to get Events from the AIX Error Report log into Instana.   Let's add some tags to this Agent.  Uncomment the section and add an application name tag of **wordpress** and add a **production** tag.   After you have finished editing, the section should look like this:  \n```sh\n# Host\n# other comments\ncom.instana.plugin.host:\n  tags:\n    - 'production'\n    - 'wordpress'\n#  filesystems\n```\n\nIn the next section, you will see **Hardware & Zone**.  Let's edit this section and add a Zone name.  Zones are used to organize the Agents within the Infrastructure view in the UI, but can also be used to filter data for custom dashboards and threshold assignments.\n\nUncomment the section and change the **availability-zone** to something meaningful like your name so that you can find it in the UI.  The section should look something like this: \n```sh\n# Hardware & Zone\ncom.instana.plugin.generic.hardware:\n  enabled: true # disabled by default\n  availability-zone: 'BenS'\n```\n\nContinue to scroll down until you find the **Custom processes** section.  By default, Instana monitors key processes that are related to the technologies that are discovered such as java processes, databases, etc.  It also gathers information on any process that is consuming a lot of CPU or Memory.  But, sometimes there is a desire to monitor other specific processes.  This section allows you to do that by specifying process names, service names, or arguments.  Let's configure instana to monitor the crond process.  Edit the section so that it looks as follows:\n```sh\ncom.instana.plugin.process:\n  processes:\n    - 'cron'\n```\n\nBy monitoring the **cron** process, we can see its performance utilization and can also monitor to ensure that the process is running.\n\nFinally, scroll down to the section titled **\"MariaDB\"**.  Since this server is running MariaDB, let's configure that sensor.  Uncomment the section and specify the MariaDB credentials as follows. Replace \\<mariadb username\\> and \\<mariadb passwd\\> with the username and password for your environment.\n```sh\n# MariaDB\ncom.instana.plugin.mariadb:\n  user: '<mariadb username>'\n  password: '<mariadb passwd>'\n```\n\nFinally, save the changes to the configuration.yaml file by typing **\":wq\"** within the **vi** session.\n```sh\n:wq\n```\n\nThe Agent is now running and has been configured with the following optional configurations:\n- Zone name has been specified\n- **production** and **wordpress** tags have been set.\n- The Agent is monitoring the cron process\n- The MariaDB sensor has been configured\n\nOpen the Instana UI and select the Infrastructure view\n  ![](images/infrastructure2.png)\n\nYou should see your AIX Host Agent show up within the zone name that you specified.   Sometimes it take a few minutes before the Agent moves from the **undefined** zone to the zone name that you specified.\n\n\n***\n\n## 1-4:  Install the Instana Agent to Monitor OpenShift\n**Leave the Terminal window open**, but select the browser and navigate to the tab containing the Instana user interface.   \n\nSelect the \"Stan\" the robot icon in the upper left corner\n  ![](images/stan.png)\n\nNext, click the **\"Deploy Agent\"** button near the upper right corner.\n  ![](images/DeployAgent.png)\n\nA window will open with a list of different environments where you can install the Instana Agent.  In this lab, we are installing into OpenShift, so select OpenShift from the list.\n  ![](images/OpenShift.png)\n\nSelect the dropdown list next to the word **\"Technology\"**.  Notice that there are multiple options for installing the Agent.  Choose the **\"YAML\"** option from the list.\n  ![](images/yaml.png) \n\n\nEnter a name for the Cluster and Zone as seen below.  Use **your name** for the **\"Cluster name\"** and **your student name** for the **\"Zone name\"**.  This will allow you to find your Agent and Kubernetes Cluster within the user interface and not get confused by data coming in from other students.\n  ![](images/ZoneCluster.png) \n\nNext, click the \"Download\" button to download the yaml file.  The yaml file has been configured specifically to connect to your Instana SaaS environment and will contain the **Cluster** name \nand **Zone** name that you previously specified.\n  ![](images/Download.png) \n\n\nIf you downloaded the yaml file to your laptop, you must login to the OCP cluster before installing the Agent.  Once you are logged into the OCP Cluster, you can install the Agent using the **oc** command as shown below.\n\nIf you don't have the oc command on your laptop, you can scp the configuration.yaml file to the bastion node on the OCP cluster and issue the **oc** command from the bastion node.\n\nIssue the following command in the directory that contains the configuration.yaml file:\n```sh\noc create -f ./configuration.yaml\n```\nYou will see output similar to what's shown below\n  ![](images/install.png)\n\nThis command will create an instana-agent project/namespace and install the Instana Agent as a daemonset within the cluster.  As a daemonset, it will run one Agent pod on each node in the cluster.  There are options to either monitor or omit the Master Nodes within the cluster and many other configuration options that can be found in the product documentation.\n\nThe installation process is nearly identical for other versions of kubernetes.\n\n\n Next, you need to setup the proper permissions for the service account.  This will allow the Agent to have access to monitor the entire cluster.\n\n First, change to the instana-agent OpenShift project by typing:\n ```sh\n oc project instana-agent\n ```\n\n Type the following command to setup the proper permissions:   \n ```sh\n oc adm policy add-scc-to-user privileged -z instana-agent\n ```\n\n You should see output similar to the screen capture below.\n  ![](images/permissions.png)\n\nNext, type:  \n```sh\noc get pods\n```\n\nThis will provide a list of the pods that are in this namespace (project).  Notice that the instana-agent pod is running.\n  ![](images/pods.png)\n\nIf the pod is not running, wait a minute and issue the \"oc get pods\" command again.\n\n***\n\n## 1-5: Summary\n\nIn this portion of the lab, you learned out to install the Instana Agent to monitor AIX and kubernetes/OpenShift.  You also learned some of the configuration options to customize the Agent and setup sensors that require customization. \n\nYou should now have an AIX Agent that is installed and monitoring MariaDB and you should have an OpenShift cluster being monitored.\n\n\nTo continue other portions of the lab, select one of the lab exercises in the upper left corner or select one of the images below.\n\n\n\n<Row>\n\n<Column colLg={4} colMd={4} noGutterMdLeft>\n<ArticleCard\n    color=\"dark\"\n    subTitle=\"Explorer Instana\"\n    title=\"Explore the Instana UI and Capabilities\"\n    href=\"/tutorials/Explore\"\n    actionIcon=\"arrowRight\"\n    >\n\n![](images/InstanaTopology.png)\n\n</ArticleCard>\n</Column>\n\n<Column colLg={4} colMd={4} noGutterMdLeft>\n<ArticleCard\n    color=\"dark\"\n    subTitle=\"Diagnose a Problem\"\n    title=\"Learn How Instana Can Help you Quickly Diagnose a Complex Problem\"\n    href=\"/tutorials/Diagnose\"\n    actionIcon=\"arrowRight\"\n    >\n\n![](images/instanaEvents.png)\n\n</ArticleCard>\n</Column>\n\n<Column colLg={4} colMd={4} noGutterMdLeft>\n<ArticleCard\n    color=\"dark\"\n    subTitle=\"Administer Instana\"\n    title=\"Learn How to Perform Administrative Tasks in Instana\"\n    href=\"/tutorials/Administration\"\n    actionIcon=\"arrowRight\"\n    >\n\n![](images/infrastructure.png)\n\n</ArticleCard>\n</Column>\n</Row>\n\n\n***","type":"Mdx","contentDigest":"b1df12f8fd83ffe4eb8641dd9bdb4ba5","owner":"gatsby-plugin-mdx","counter":268},"frontmatter":{"title":"Section 1 - Installing and Configuring Monitoring","description":"Install and configure monitoring for the AIX LPAR and OCP Cluster"},"exports":{},"rawBody":"---\ntitle: Section 1 - Installing and Configuring Monitoring\ndescription: Install and configure monitoring for the AIX LPAR and OCP Cluster \n---\n\n<AnchorLinks>\n  <AnchorLink>1-1: Login to the AIX LPAR</AnchorLink>\n  <AnchorLink>1-2: Preparing to Install the Instana Agent</AnchorLink>\n  <AnchorLink>1-3: Install the Instana Agnet on AIX</AnchorLink>\n  <AnchorLink>1-4: Install the Instana Agent to Monitor OpenShift</AnchorLink>\n  <AnchorLink>1-5: Summary</AnchorLink>\n</AnchorLinks>\n\n## 1-1: Login to the AIX LPAR\n\nIn this portion of the lab, you will be installing the Instana Monitoring Agent on the AIX LPAR that you used in previous labs.   This LPAR includes an instance of MariaDB.  We will installing the Agent and going through some additional configuration steps.\n\nBring up a terminal window and log into your AIX LPAR.  You will need to be root when installing the Instana Agent.\n\nRun the following command to switch to root:\n```sh\nsudo -i\n```\n\n***\n\n## 1-2:  Preparing to Install the Instana Agent\nOn some platforms, the Instana Host Agent comes pre-packaged with a Java SDK.  But, on AIX java is not include in the installation package.  So, the first step is to install java on the AIX LPAR.  Instana supports multiple vendor SDKs, but does require java 8 or 11.\n\nDownload a valid java version from https://ibm.box.com/shared/static/69j0oiqmnvyljahgfw49l7eu600c1v69.tar\n\nOnce java has been downloaded, use scp to copy the tar file to the AIX LPAR.\n```sh\nscp java8_AIX64.tar root@<IP address of AIX LPAR>:/tmp\n```\n\nNext, change directory to /opt\n```sh\ncd /opt\n```\n\nExtract the tar file:\n```sh\ntar -xf /tmp/java8_AIX64.tar\n```\n\nType \"ls -all\" and confirm that you see a java8 directory.\n\nNext, we must make sure that the java 8 JDK is in our PATH and that JAVA_HOME is set properly so that the Instana Agent uses the proper version of java.  There are multiple ways to achieve this.  For example, you can edit the Instana startup files or the setenv file.  For this lab, we are going to edit root's .profile\n\nAs the root user, type \"cd\" to change to root's home directory.\n\nNext, type \"vi .profile\":\n```sh\nvi .profile\n```\n\nWithin vi, add the following content to the .profile file.\n```sh\nexport JAVA_HOME=/opt/java8/jre\nexport PATH=$JAVA_HOME/bin:$PATH\n```\n\nType \":wq\" to save your changes and exit the vi session.\n```sh\n:wq\n```\n\nFinally, you must source the .profile file in order to set those environment variables in your current shell.  Type the following:\n```\n. ./.profile\n```\n\n***\n\n## 1-3:  Install the Instana Agent on AIX\nNext, we'll be installing the Instana Agent on the AIX LPAR.\n\nLeave the terminal window open.  We'll be using it later.\n\nFor now, login to the Instana user interface at:  https://instana-labs.instana.io/\nLogin as apmdemo-2@yahoo.com with the password provided by the lab instructor.\n\nSelect the \"Stan\" the robot icon in the upper left corner\n  ![](images/stan.png)\n\nNext, click the **\"Deploy Agent\"** button near the upper right corner.\n  ![](images/DeployAgent.png)\n\nA window will open with a list of different environments where you can install the Instana Agent.  In this section of the lab, we are installing the AIX Host Agent.  Select **Unix** from the list of OS's.\n\nNext select the dropdown list in the middle of the page.  Select \"**AIX (64bit - PowerPC)**\" and then click the **Download** button to download the Host Agent.\n  ![](images/AIXDyanmic.png)\n\nYou'll notice that there are multiple options for AIX.  In this environment, we are using a 64-bit version of AIX.  In addition, there is an option for a \"**static**\" Agent.  Static Agents are used when you are in an air-gapped environment or when there are strict change control processes.  The **dynamic** agents are recommended for most environments.  The sensors for the discovered technologies will automatically download as needed and the Agent and sensors will automatically update themselves as new fixes and enhancements become available.\n\nThe reason that you downloaded the Host Agent from the Instana user interface is that the media has specifically been configured so that the Agent will communicate and send data to your Instana server.  This includes the path to the Instana server as well as the Agent Key necessary to communicate with your backend server.\n\nNow that you have download the Agent tar file, you must copy it to the AIX LPAR.   Use **scp** to copy the image to the LPAR.\n\n```sh\nscp instana-agent-aix-ppc-64bit.tar.gz root@<IP address of AIX LPAR>:/tmp\n```\n \ncd to the /opt/ directory.\n```sh\ncd /opt\n```\n\nNow, extract the tar file by typing:\n```sh\ntar -xf /tmp/instana-agent-aix-ppc-64bit.tar.gz\n```\n\nNow, you must start the Agent.  In a production environment, you would also want to setup the /etc/rc.d autostart files, but we are going to skip that step for the lab. \n\nNow, let's start the Instana Agent.  Change directory to the /opt/instana-agent/bin directory\n```sh\ncd /opt/instana-agent/bin\n```\n\nRun the start command by typing:\n```sh\n./start\n```\n\nThis will start the Instana Agent.\n\nIn addition, there are some optional configuration steps.  We'll examine and change some of the optional configuration parameters.\n\nChange directory to /opt/instana-agent/etc/instana\n```sh\ncd /opt/instana-agent/etc/instana\n```\n\nThis is the primary directory where most configuration changes are made.   However, there are some configuration files in the parent directory.  For example, if you setup your own internal maven repository to host the sensors, that configuration would be specified in the /opt/instana-agent/etc/mvn-settings.xml file.\n\nUse **vi** to edit the configuration.yaml file.\n```sh\nvi configuration.yaml\n```\n\nThis is the main configuration file that contains mandatory and optional configuration parameters for the Host Agent and the application/middleware sensors.  We'll be modifying a few key settings so that you can understand some of the possibilities.\n\nOne important aspect of Instana's configuration.yaml file is that it is read from dynamically by the Agent.  As you save changes to the file, those changes are immediately detected and implemented by the Agent.  There is no need to recycle the Agent in order for the changes to take effect.  This is not true for all of the configuration files.  For example, if you customize the mvn-settings.xml file, you must restart the Agent for the changes to take effect.\n\nAs you scroll down through the file, you'll see a section titled **\"Secret manager integration\"**.  You'll notice that some of the sensors will require a password.  By specifying a secret manager such as Hashicorp, you can store the passwords in the vault instead of specifying them in an ASCII file.   We won't be using that for this lab.\n\nScroll down further until you see the **Host** section.   Within the **Host** section, you'll notice a few important options. To customize the parameters, you must uncomment the lines by removing the **#** symbol.  Also, keep in mind that this is a yaml file and formatting is very picky.   Lines must be indented by 2 spaces at a time.  Within the host section, you'll see that there is a section where you can specify **tags**.  Tags can be very useful in helping you manage large scale environments.   You'll also notice a parameter called **aixEventsPollRate**.  This parameter allows you to get Events from the AIX Error Report log into Instana.   Let's add some tags to this Agent.  Uncomment the section and add an application name tag of **wordpress** and add a **production** tag.   After you have finished editing, the section should look like this:  \n```sh\n# Host\n# other comments\ncom.instana.plugin.host:\n  tags:\n    - 'production'\n    - 'wordpress'\n#  filesystems\n```\n\nIn the next section, you will see **Hardware & Zone**.  Let's edit this section and add a Zone name.  Zones are used to organize the Agents within the Infrastructure view in the UI, but can also be used to filter data for custom dashboards and threshold assignments.\n\nUncomment the section and change the **availability-zone** to something meaningful like your name so that you can find it in the UI.  The section should look something like this: \n```sh\n# Hardware & Zone\ncom.instana.plugin.generic.hardware:\n  enabled: true # disabled by default\n  availability-zone: 'BenS'\n```\n\nContinue to scroll down until you find the **Custom processes** section.  By default, Instana monitors key processes that are related to the technologies that are discovered such as java processes, databases, etc.  It also gathers information on any process that is consuming a lot of CPU or Memory.  But, sometimes there is a desire to monitor other specific processes.  This section allows you to do that by specifying process names, service names, or arguments.  Let's configure instana to monitor the crond process.  Edit the section so that it looks as follows:\n```sh\ncom.instana.plugin.process:\n  processes:\n    - 'cron'\n```\n\nBy monitoring the **cron** process, we can see its performance utilization and can also monitor to ensure that the process is running.\n\nFinally, scroll down to the section titled **\"MariaDB\"**.  Since this server is running MariaDB, let's configure that sensor.  Uncomment the section and specify the MariaDB credentials as follows. Replace \\<mariadb username\\> and \\<mariadb passwd\\> with the username and password for your environment.\n```sh\n# MariaDB\ncom.instana.plugin.mariadb:\n  user: '<mariadb username>'\n  password: '<mariadb passwd>'\n```\n\nFinally, save the changes to the configuration.yaml file by typing **\":wq\"** within the **vi** session.\n```sh\n:wq\n```\n\nThe Agent is now running and has been configured with the following optional configurations:\n- Zone name has been specified\n- **production** and **wordpress** tags have been set.\n- The Agent is monitoring the cron process\n- The MariaDB sensor has been configured\n\nOpen the Instana UI and select the Infrastructure view\n  ![](images/infrastructure2.png)\n\nYou should see your AIX Host Agent show up within the zone name that you specified.   Sometimes it take a few minutes before the Agent moves from the **undefined** zone to the zone name that you specified.\n\n\n***\n\n## 1-4:  Install the Instana Agent to Monitor OpenShift\n**Leave the Terminal window open**, but select the browser and navigate to the tab containing the Instana user interface.   \n\nSelect the \"Stan\" the robot icon in the upper left corner\n  ![](images/stan.png)\n\nNext, click the **\"Deploy Agent\"** button near the upper right corner.\n  ![](images/DeployAgent.png)\n\nA window will open with a list of different environments where you can install the Instana Agent.  In this lab, we are installing into OpenShift, so select OpenShift from the list.\n  ![](images/OpenShift.png)\n\nSelect the dropdown list next to the word **\"Technology\"**.  Notice that there are multiple options for installing the Agent.  Choose the **\"YAML\"** option from the list.\n  ![](images/yaml.png) \n\n\nEnter a name for the Cluster and Zone as seen below.  Use **your name** for the **\"Cluster name\"** and **your student name** for the **\"Zone name\"**.  This will allow you to find your Agent and Kubernetes Cluster within the user interface and not get confused by data coming in from other students.\n  ![](images/ZoneCluster.png) \n\nNext, click the \"Download\" button to download the yaml file.  The yaml file has been configured specifically to connect to your Instana SaaS environment and will contain the **Cluster** name \nand **Zone** name that you previously specified.\n  ![](images/Download.png) \n\n\nIf you downloaded the yaml file to your laptop, you must login to the OCP cluster before installing the Agent.  Once you are logged into the OCP Cluster, you can install the Agent using the **oc** command as shown below.\n\nIf you don't have the oc command on your laptop, you can scp the configuration.yaml file to the bastion node on the OCP cluster and issue the **oc** command from the bastion node.\n\nIssue the following command in the directory that contains the configuration.yaml file:\n```sh\noc create -f ./configuration.yaml\n```\nYou will see output similar to what's shown below\n  ![](images/install.png)\n\nThis command will create an instana-agent project/namespace and install the Instana Agent as a daemonset within the cluster.  As a daemonset, it will run one Agent pod on each node in the cluster.  There are options to either monitor or omit the Master Nodes within the cluster and many other configuration options that can be found in the product documentation.\n\nThe installation process is nearly identical for other versions of kubernetes.\n\n\n Next, you need to setup the proper permissions for the service account.  This will allow the Agent to have access to monitor the entire cluster.\n\n First, change to the instana-agent OpenShift project by typing:\n ```sh\n oc project instana-agent\n ```\n\n Type the following command to setup the proper permissions:   \n ```sh\n oc adm policy add-scc-to-user privileged -z instana-agent\n ```\n\n You should see output similar to the screen capture below.\n  ![](images/permissions.png)\n\nNext, type:  \n```sh\noc get pods\n```\n\nThis will provide a list of the pods that are in this namespace (project).  Notice that the instana-agent pod is running.\n  ![](images/pods.png)\n\nIf the pod is not running, wait a minute and issue the \"oc get pods\" command again.\n\n***\n\n## 1-5: Summary\n\nIn this portion of the lab, you learned out to install the Instana Agent to monitor AIX and kubernetes/OpenShift.  You also learned some of the configuration options to customize the Agent and setup sensors that require customization. \n\nYou should now have an AIX Agent that is installed and monitoring MariaDB and you should have an OpenShift cluster being monitored.\n\n\nTo continue other portions of the lab, select one of the lab exercises in the upper left corner or select one of the images below.\n\n\n\n<Row>\n\n<Column colLg={4} colMd={4} noGutterMdLeft>\n<ArticleCard\n    color=\"dark\"\n    subTitle=\"Explorer Instana\"\n    title=\"Explore the Instana UI and Capabilities\"\n    href=\"/tutorials/Explore\"\n    actionIcon=\"arrowRight\"\n    >\n\n![](images/InstanaTopology.png)\n\n</ArticleCard>\n</Column>\n\n<Column colLg={4} colMd={4} noGutterMdLeft>\n<ArticleCard\n    color=\"dark\"\n    subTitle=\"Diagnose a Problem\"\n    title=\"Learn How Instana Can Help you Quickly Diagnose a Complex Problem\"\n    href=\"/tutorials/Diagnose\"\n    actionIcon=\"arrowRight\"\n    >\n\n![](images/instanaEvents.png)\n\n</ArticleCard>\n</Column>\n\n<Column colLg={4} colMd={4} noGutterMdLeft>\n<ArticleCard\n    color=\"dark\"\n    subTitle=\"Administer Instana\"\n    title=\"Learn How to Perform Administrative Tasks in Instana\"\n    href=\"/tutorials/Administration\"\n    actionIcon=\"arrowRight\"\n    >\n\n![](images/infrastructure.png)\n\n</ArticleCard>\n</Column>\n</Row>\n\n\n***","fileAbsolutePath":"/Users/bstern/tivoli/Best_Practices/PowerInstanaLab/PowerInstanaLab/src/pages/tutorials/Install/index.mdx"}}}